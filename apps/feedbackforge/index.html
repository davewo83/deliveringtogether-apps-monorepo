<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FeedbackForge - Evidence-Based Feedback Generator</title>
    <meta name="description" content="Create personalised, effective feedback messages based on psychological research">
    <style>
        /* Reset and base styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f9f9f9;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header styles */
        header {
            background-color: white;
            border-bottom: 1px solid #eaeaea;
            padding: 15px 0;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #2c3e50;
            margin: 0;
            font-size: 2rem;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        /* Form styles */
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            padding: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        select {
            background-color: white;
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        .form-controls {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* Button styles */
        button {
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .primary-button {
            background-color: #3a7ca5;
            color: white;
            border: none;
        }
        
        .primary-button:hover {
            background-color: #2c618a;
        }
        
        .secondary-button {
            background-color: #f0f0f0;
            color: #333;
            border: 1px solid #ddd;
        }
        
        .secondary-button:hover {
            background-color: #e5e5e5;
        }
        
        /* Results styles */
        .feedback-script {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 4px;
            white-space: pre-line;
            margin: 20px 0;
            border: 1px solid #eee;
        }
        
        /* Footer styles */
        footer {
            margin-top: 60px;
            text-align: center;
            padding: 20px 0;
            color: #666;
            border-top: 1px solid #eee;
        }
        
        a {
            color: #3a7ca5;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }

        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 25px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid #ddd;
            background: #f5f5f5;
            flex: 1;
            text-align: center;
        }

        .tab.active {
            background: #3a7ca5;
            color: white;
            border-color: #3a7ca5;
        }

        .tab:first-child {
            border-radius: 4px 0 0 4px;
        }

        .tab:last-child {
            border-radius: 0 4px 4px 0;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>FeedbackForge</h1>
            <p>Create personalised, effective feedback messages based on psychological research</p>
        </div>
    </header>

    <main class="container">
        <div class="tabs">
            <div class="tab active" data-tab="create">Create Feedback</div>
            <div class="tab" data-tab="about">About</div>
        </div>

        <div id="create-tab" class="tab-content active">
            <div class="card">
                <h2>Feedback Parameters</h2>
                <form id="feedback-form">
                    <div class="form-section">
                        <div class="form-group">
                            <label for="feedback-type">Feedback Type:</label>
                            <select id="feedback-type" name="feedbackType">
                                <option value="recognition">Recognition</option>
                                <option value="improvement">Improvement</option>
                                <option value="coaching">Coaching</option>
                            </select>
                        </div>
    
                        <div class="form-group">
                            <label for="recipient-name">Recipient Name:</label>
                            <input type="text" id="recipient-name" name="recipientName" placeholder="Team member name">
                        </div>
    
                        <div class="form-group">
                            <label for="recipient-role">Role:</label>
                            <input type="text" id="recipient-role" name="recipientRole" placeholder="Team member role">
                        </div>
    
                        <div class="form-group">
                            <label for="personality-type">Recipient Communication Style:</label>
                            <select id="personality-type" name="personalityType">
                                <option value="D">Direct (High D)</option>
                                <option value="I">Interactive (High I)</option>
                                <option value="S">Supportive (High S)</option>
                                <option value="C">Analytical (High C)</option>
                            </select>
                        </div>
                    </div>
    
                    <div class="form-section">
                        <h2>Feedback Content</h2>
                        
                        <div class="form-group">
                            <label for="specific-strengths">Specific Strengths:</label>
                            <textarea id="specific-strengths" name="specificStrengths" placeholder="What specific strengths would you like to acknowledge?"></textarea>
                        </div>
    
                        <div class="form-group">
                            <label for="areas-improvement">Areas for Improvement:</label>
                            <textarea id="areas-improvement" name="areasForImprovement" placeholder="What areas could be improved?"></textarea>
                        </div>
    
                        <div class="form-group">
                            <label for="support-offered">Support Offered:</label>
                            <textarea id="support-offered" name="supportOffered" placeholder="What support can you offer?"></textarea>
                        </div>
                    </div>
    
                    <div class="form-controls">
                        <button type="submit" id="generate-feedback" class="primary-button">Generate Feedback</button>
                        <button type="reset" class="secondary-button">Reset</button>
                    </div>
                </form>
            </div>
            
            <div id="results-container"></div>
        </div>

        <div id="about-tab" class="tab-content">
            <div class="card">
                <h2>About FeedbackForge</h2>
                <p>FeedbackForge is an evidence-based feedback generator designed to help managers create effective, personalized feedback messages.</p>
                <p>Our approach is based on psychological research on feedback reception, including:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Psychological safety principles</li>
                    <li>Growth mindset language</li>
                    <li>Communication style preferences</li>
                    <li>Self-concept preservation</li>
                </ul>
                <p style="margin-top: 20px;">By using research-backed approaches to feedback delivery, managers can provide feedback that is better received and more likely to lead to positive behavioral change.</p>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Delivering Together | <a href="/coaching/">Back to Coaching Tools</a></p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    
                    // Hide all tab content
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Show corresponding tab content
                    const tabId = tab.dataset.tab;
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });

            // Form submission
            const form = document.getElementById('feedback-form');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form data
                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());
                
                // Generate feedback
                generateFeedback(data);
            });
            
            // Reset results when form is reset
            form.addEventListener('reset', function() {
                document.getElementById('results-container').innerHTML = '';
            });
        });
        
        function generateFeedback(data) {
            // Extract form data
            const {
                feedbackType,
                recipientName,
                recipientRole,
                personalityType,
                specificStrengths,
                areasForImprovement,
                supportOffered
            } = data;
            
            // Generate greeting
            let feedbackScript = `Dear ${recipientName || 'Team Member'},\n\n`;
            
            // Add opening statement based on personality type
            const openingStatements = {
                'D': 'I want to share some direct feedback about your recent work.',
                'I': 'I\'d like to talk about your work and share some thoughts on how we can collaborate even better.',
                'S': 'I appreciate your consistent contributions and would like to share some thoughts.',
                'C': 'Based on my observations, I\'ve compiled some feedback on your recent work.'
            };
            feedbackScript += openingStatements[personalityType] || 'I appreciate you taking the time to discuss this feedback.';
            feedbackScript += '\n\n';
            
            // Add strength recognition
            if (specificStrengths) {
                feedbackScript += `I've noticed your strengths in ${specificStrengths}.\n\n`;
            }
            
            // Add areas for improvement with growth mindset language
            if (areasForImprovement) {
                feedbackScript += `I believe we can work together on ${areasForImprovement}. This is an opportunity for growth rather than a criticism.\n\n`;
            }
            
            // Add support offered
            if (supportOffered) {
                feedbackScript += `To support you with this, ${supportOffered}\n\n`;
            }
            
            // Add closing statement based on personality type
            const closingStatements = {
                'D': 'Let me know what specific steps you\'ll take next.',
                'I': 'I\'m excited to see how you\'ll implement these ideas! Let\'s discuss further.',
                'S': 'I\'m here to support you through this process. What resources would be most helpful?',
                'C': 'Please let me know if you\'d like more specific data or examples to help you analyze this feedback.'
            };
            feedbackScript += closingStatements[personalityType] || 'I welcome your thoughts on this feedback.';
            
            // Display results
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = `
                <div class="card">
                    <h2>Generated Feedback</h2>
                    <div class="feedback-script">${feedbackScript}</div>
                    <div class="form-controls">
                        <button class="primary-button" id="copy-feedback">Copy to Clipboard</button>
                        <button class="secondary-button" id="download-feedback">Download as Text</button>
                    </div>
                </div>
            `;
            
            // Add event listener for copy button
            document.getElementById('copy-feedback').addEventListener('click', function() {
                navigator.clipboard.writeText(feedbackScript).then(function() {
                    alert('Feedback copied to clipboard!');
                }, function() {
                    alert('Could not copy text. Please try again.');
                });
            });
            
            // Add event listener for download button
            document.getElementById('download-feedback').addEventListener('click', function() {
                const blob = new Blob([feedbackScript], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `feedback-for-${recipientName || 'team-member'}.txt`.toLowerCase().replace(/\s+/g, '-');
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });
        }
    </script>
</body>
</html>